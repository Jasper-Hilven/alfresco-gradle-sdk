plugins {
    id "java-gradle-plugin"
    id "com.gradle.plugin-publish" version "0.10.0"
    id 'org.ajoberstar.reckon' version "0.8.0"
    id "maven-publish"
}

group 'eu.xenit.gradle'

sourceCompatibility = 1.8

dependencies {
    compile gradleApi()
    testCompile group: 'junit', name: 'junit', version: '4.12'
}

gradlePlugin {
    plugins {
        amp {
            id = "eu.xenit.amp"
            implementationClass = "eu.xenit.gradle.alfrescosdk.AmpPlugin"
        }
        
        alfresco {
            id = "eu.xenit.alfresco"
            implementationClass = "eu.xenit.gradle.alfrescosdk.AlfrescoPlugin"
        }
    }
}

pluginBundle {
    vcsUrl = "https://github.com/xenit-eu/alfresco-gradle-sdk"
    website = vcsUrl
    description = "Gradle plugins and tasks to support Alfresco development"
    tags = ["alfresco"]
    plugins {
        amp {
            displayName = "Alfreco AMP plugin"
        }
    }

    mavenCoordinates {
        groupId = "eu.xenit.gradle"
        artifactId = "alfresco-sdk"
    }
}

reckon {
    scopeFromProp()
    snapshotFromProp()
}

reckonTagCreate.dependsOn(check)
